<div class="min-w-[480px]">
  <div class="grid grid-cols-2">
    <button (click)="openFriendSection1()" class="btn">Friends and invites</button>
    <button (click)="openFriendSection2()" class="btn">Manage friends and requests</button>
  </div>

  <!-- In this section we show our friends list with the possibility of inviting to play, messaging, removing or blocking them -->
  <div *ngIf="this.friendsSection1">
    <ul *ngIf="this.friends.length != undefined && this.friends.length > 0"> FRIENDS LIST
      <li *ngFor="let friend of this.friends">
        {{ friend }}
        <button class="btn" (click)="removeFriend(friend)">Remove friend</button>
        <button class="btn" (click)="openChat(friend)">Open chat</button>
        <button class="btn" (click)="inviteToPlay(friend)">Invite to play</button>
      </li>
    </ul>
  </div>

  <!-- In this section we show our friend requests with the possibility of looking up users to send them a friend request or block them -->
  <div *ngIf="this.friendsSection2">
    <div>
      <form>
        <div>
          <label for="username">Username</label>
          <input type="text" id="username" [(ngModel)]="inputname" name="username"/>
          <button class="btn" (click)="searchUsers(inputname)">Look up username</button>
        </div>
      </form>
    </div>
    <br>
    <div>
      <ul *ngIf="this.foundUsers.length > 0">
        FOUND USERS
        <li *ngFor="let user of this.foundUsers">
          <div *ngIf="!this.friends.includes(user.username)">
            <span class="font-bold">{{ user.username }} </span>
            <button (click)="newFriendRequest(user.username)">Aggiungi agli amici</button>
            <button (click)="blacklistUser(user.username)">Blocca utente</button>
          </div>
        </li>
      </ul>
      <ul *ngIf="this.friend_requests_list.length > 0"> PENDING FRIEND REQUESTS
        <li *ngFor="let receiver of this.friend_requests_list">
          {{ receiver }}
          <button (click)="acceptFriendRequest(receiver)">Accetta richiesta</button>
          <button (click)="rejectFriendRequest(receiver)">Rifiuta richiesta</button>
          <button (click)="blacklistUser(receiver)">Blocca utente</button>
        </li>
      </ul>
    </div>
  </div>
</div>
